{"version":3,"file":"sidebar-menu-section.js","sourceRoot":"","sources":["../../../src/ui/sidebar-menu-section.tsx"],"names":[],"mappings":"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","sourcesContent":["// packages/components/src/ui/sidebar-menu-section.tsx\r\n\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\";\r\nimport { cva } from \"class-variance-authority\";\r\nimport { ChevronDown, LucideIcon } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst sidebarMenuSectionVariants = cva([\r\n  \"border-b border-[var(--color-border-subtle)] last:border-b-0\",\r\n]);\r\n\r\nconst sidebarMenuSectionTriggerVariants = cva([\r\n  \"flex items-center justify-between w-full px-4 py-3\",\r\n  \"text-sm font-semibold text-[var(--color-text-heading)]\",\r\n  \"hover:bg-[var(--color-accent)] transition-colors duration-150\",\r\n  \"focus-visible:outline-none\",\r\n  \"focus-visible:bg-[var(--color-focus-500)] focus-visible:text-[var(--color-navy-500)]\",\r\n  \"focus:ring-2 focus:ring-[var(--color-border-focus)] focus:ring-offset-1\",\r\n  \"focus:ring-offset-[var(--color-surface)]\",\r\n  \"group relative\",\r\n  \"min-h-[44px] sm:min-h-[40px]\",\r\n  // Added Option A expanded state styling\r\n  \"data-[state=open]:bg-[var(--color-navy-100)]\",\r\n]);\r\n\r\nconst sidebarMenuSectionContentVariants = cva([\r\n  \"data-[state=open]:animate-accordion-down data-[state=closed]:animate-accordion-up\",\r\n  \"overflow-hidden\",\r\n  // Option A: Expanded section gets navy-100 background\r\n  \"data-[state=open]:bg-[var(--color-navy-100)]\",\r\n]);\r\n\r\n// Interface definitions\r\nexport interface SidebarMenuSectionProps {\r\n  title: string;\r\n  icon?: LucideIcon;\r\n  children: React.ReactNode;\r\n  value?: string;\r\n  className?: string;\r\n  expanded?: boolean;\r\n  onToggle?: (expanded: boolean) => void;\r\n  badge?: string | number;\r\n}\r\n\r\nexport interface SidebarMenuSectionRootProps {\r\n  children: React.ReactNode;\r\n  type?: \"single\" | \"multiple\";\r\n  collapsible?: boolean;\r\n  className?: string;\r\n  value?: string | string[];\r\n  onValueChange?: (value: string | string[]) => void;\r\n}\r\n\r\n// Component implementations\r\nconst SidebarMenuSectionRoot = React.forwardRef<\r\n  React.ElementRef<typeof AccordionPrimitive.Root>,\r\n  SidebarMenuSectionRootProps\r\n>(\r\n  (\r\n    {\r\n      className,\r\n      type = \"multiple\",\r\n      collapsible = true,\r\n      children,\r\n      value,\r\n      onValueChange,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    if (type === \"single\") {\r\n      return (\r\n        <AccordionPrimitive.Root\r\n          ref={ref}\r\n          type=\"single\"\r\n          collapsible={collapsible}\r\n          value={typeof value === \"string\" ? value : undefined}\r\n          onValueChange={onValueChange as (value: string) => void}\r\n          className={cn(\"w-full\", className)}\r\n          {...props}\r\n        >\r\n          {children}\r\n        </AccordionPrimitive.Root>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <AccordionPrimitive.Root\r\n        ref={ref}\r\n        type=\"multiple\"\r\n        value={Array.isArray(value) ? value : []}\r\n        onValueChange={onValueChange as (value: string[]) => void}\r\n        className={cn(\"w-full\", className)}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </AccordionPrimitive.Root>\r\n    );\r\n  }\r\n);\r\nSidebarMenuSectionRoot.displayName = \"SidebarMenuSectionRoot\";\r\n\r\nconst SidebarMenuSection = React.forwardRef<\r\n  React.ElementRef<typeof AccordionPrimitive.Item>,\r\n  SidebarMenuSectionProps\r\n>(\r\n  (\r\n    {\r\n      className,\r\n      title,\r\n      icon: Icon,\r\n      children,\r\n      value,\r\n      expanded,\r\n      onToggle,\r\n      badge,\r\n    },\r\n    ref\r\n  ) => {\r\n    const sectionValue = value || title.toLowerCase().replace(/\\s+/g, \"-\");\r\n\r\n    // Generate accessible label for screen readers\r\n    const getAriaLabel = () => {\r\n      let label = `${title} section`;\r\n      if (badge) {\r\n        label += `, ${badge} items`;\r\n      }\r\n      label += expanded ? \", expanded\" : \", collapsed\";\r\n      return label;\r\n    };\r\n\r\n    return (\r\n      <AccordionPrimitive.Item\r\n        ref={ref}\r\n        className={cn(sidebarMenuSectionVariants(), className)}\r\n        value={sectionValue}\r\n      >\r\n        <AccordionPrimitive.Header>\r\n          <AccordionPrimitive.Trigger\r\n            className={cn(sidebarMenuSectionTriggerVariants())}\r\n            onClick={() => onToggle?.(!expanded)}\r\n            aria-label={getAriaLabel()}\r\n            aria-expanded={expanded}\r\n          >\r\n            <div className=\"flex items-center gap-3 flex-1 min-w-0\">\r\n              {Icon && (\r\n                <Icon className=\"w-4 h-4 flex-shrink-0\" aria-hidden=\"true\" />\r\n              )}\r\n              <span className=\"truncate font-semibold\">{title}</span>\r\n              {badge && (\r\n                <span\r\n                  className=\"flex-shrink-0 ml-auto px-1.5 py-0.5 text-xs font-medium rounded-full bg-[var(--color-red-500)] text-[var(--color-white)]\"\r\n                  aria-label={`${badge} items in ${title} section`}\r\n                >\r\n                  {badge}\r\n                </span>\r\n              )}\r\n            </div>\r\n            <ChevronDown\r\n              className=\"h-4 w-4 shrink-0 transition-transform duration-200 group-data-[state=open]:rotate-180\"\r\n              aria-hidden=\"true\"\r\n            />\r\n          </AccordionPrimitive.Trigger>\r\n        </AccordionPrimitive.Header>\r\n        <AccordionPrimitive.Content\r\n          className={cn(sidebarMenuSectionContentVariants())}\r\n          role=\"region\"\r\n          aria-labelledby={`section-${sectionValue}`}\r\n        >\r\n          {/* Fixed: Better padding to prevent first item clipping */}\r\n          <div className=\"pt-1 pb-3 px-2\">{children}</div>\r\n        </AccordionPrimitive.Content>\r\n      </AccordionPrimitive.Item>\r\n    );\r\n  }\r\n);\r\nSidebarMenuSection.displayName = \"SidebarMenuSection\";\r\n\r\nexport {\r\n  SidebarMenuSectionRoot,\r\n  SidebarMenuSection,\r\n  sidebarMenuSectionVariants,\r\n  sidebarMenuSectionTriggerVariants,\r\n  sidebarMenuSectionContentVariants,\r\n};\r\n"]}