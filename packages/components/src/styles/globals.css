@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Base system colors */
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --border: 214 32% 91%; /* gray-200 from your tokens */
    --input: 214 32% 91%;
    --ring: 215 20% 65%;
    --radius: 0.5rem;

    /* Your design system colors mapped to HSL values */
    --primary: 207 73% 24%; /* navy-500 #0e3a6c */
    --primary-foreground: 0 0% 100%; /* white */

    --secondary: 214 32% 91%; /* gray-200 */
    --secondary-foreground: 0 0% 9%; /* gray-800 */

    --accent: 214 32% 91%; /* gray-200 */
    --accent-foreground: 0 0% 9%; /* gray-800 */

    --muted: 220 14% 96%; /* gray-50 */
    --muted-foreground: 215 16% 47%; /* gray-600 */

    --destructive: 0 84% 60%; /* destructive-500 */
    --destructive-foreground: 0 0% 100%; /* white */

    --success: 184 90% 26%; /* success-500 */
    --success-foreground: 0 0% 100%; /* white */

    --warning: 32 95% 44%; /* warning-500 */
    --warning-foreground: 0 0% 0%; /* black */

    --cta: 350 80% 32%; /* red-500 #a30134 */
    --cta-foreground: 0 0% 100%; /* white */

    /* Button specific tokens using your design system */
    --button-primary-bg: var(--primary);
    --button-primary-text: var(--primary-foreground);
    --button-primary-border: var(--primary);
    --button-primary-bg-hover: 207 73% 20%; /* navy-600 */

    --button-outline-bg: transparent;
    --button-outline-text: var(--primary);
    --button-outline-border: var(--primary);
    --button-outline-bg-hover: var(--primary);
    --button-outline-text-hover: var(--primary-foreground);

    --button-cta-bg: var(--cta);
    --button-cta-text: var(--cta-foreground);
    --button-cta-border: var(--cta);
    --button-cta-bg-hover: 350 80% 28%; /* red-600 */

    --button-success-bg: var(--success);
    --button-success-text: var(--success-foreground);
    --button-success-border: var(--success);
    --button-success-bg-hover: 184 90% 22%;

    --button-warning-bg: var(--warning);
    --button-warning-text: var(--warning-foreground);
    --button-warning-border: var(--warning);
    --button-warning-bg-hover: 32 95% 40%;

    --button-destructive-bg: var(--destructive);
    --button-destructive-text: var(--destructive-foreground);
    --button-destructive-border: var(--destructive);
    --button-destructive-bg-hover: 0 84% 56%;

    --button-ghost-bg: transparent;
    --button-ghost-text: var(--foreground);
    --button-ghost-border: transparent;
    --button-ghost-bg-hover: var(--accent);

    /* Button sizing from your tokens */
    --button-height-sm: 2rem; /* 32px */
    --button-height-md: 2.5rem; /* 40px */
    --button-height-lg: 3rem; /* 48px */
    --button-height-xl: 3.5rem; /* 56px */

    --button-padding-x-sm: 0.75rem; /* 12px */
    --button-padding-x-md: 1rem; /* 16px */
    --button-padding-x-lg: 1.5rem; /* 24px */
    --button-padding-x-xl: 2rem; /* 32px */

    --button-border-width: 1px;
    --button-border-radius: 0.5rem; /* 8px from your tokens */

    /* Focus ring styles */
    --button-focus-ring-primary: 0 0 0 3px hsla(207, 73%, 24%, 0.2);
    --button-focus-ring-destructive: 0 0 0 3px hsla(0, 84%, 60%, 0.2);
    --button-focus-ring-success: 0 0 0 3px hsla(184, 90%, 26%, 0.2);
    --button-focus-ring-warning: 0 0 0 3px hsla(32, 95%, 44%, 0.2);
  }

  .dark {
    /* Dark mode variants */
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 217 92% 60%;
    --primary-foreground: 222 84% 5%;
    --secondary: 217 33% 18%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217 33% 18%;
    --muted-foreground: 215 20% 65%;
    --accent: 217 33% 18%;
    --accent-foreground: 210 40% 98%;
    --border: 217 33% 18%;
    --input: 217 33% 18%;
    --ring: 224 76% 94%;
  }
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }

  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
  }
}

@layer components {
  /* Component classes that bridge your tokens with Tailwind */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    white-space: nowrap;
    border-radius: calc(var(--radius) - 2px);
    font-size: 0.875rem;
    font-weight: 500;
    transition: all 150ms ease-in-out;
    cursor: pointer;
    text-decoration: none;
  }

  .btn:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px hsl(var(--ring));
  }

  .btn:disabled {
    pointer-events: none;
    opacity: 0.5;
  }

  .btn-primary {
    background: hsl(var(--button-primary-bg));
    color: hsl(var(--button-primary-text));
    border: var(--button-border-width) solid hsl(var(--button-primary-border));
  }

  .btn-primary:hover {
    background: hsl(var(--button-primary-bg-hover));
  }

  .btn-outline {
    background: var(--button-outline-bg);
    color: hsl(var(--button-outline-text));
    border: var(--button-border-width) solid hsl(var(--button-outline-border));
  }

  .btn-outline:hover {
    background: hsl(var(--button-outline-bg-hover));
    color: hsl(var(--button-outline-text-hover));
  }

  .btn-cta {
    background: hsl(var(--button-cta-bg));
    color: hsl(var(--button-cta-text));
    border: var(--button-border-width) solid hsl(var(--button-cta-border));
  }

  .btn-cta:hover {
    background: hsl(var(--button-cta-bg-hover));
  }
}
